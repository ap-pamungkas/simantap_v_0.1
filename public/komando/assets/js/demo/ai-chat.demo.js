var toggleAiTab=function(t,e){["aiChatIntro","aiChatNew","aiChatPrev"].forEach((n=>{const i=document.getElementById(n),a=i?i.perfectScrollbar:"";i&&(t&&t==n?(i.classList.add("show","active"),i.scrollTop=i.scrollHeight,a&&a.update(),e&&aiSendMessage(e)):i.classList.remove("show","active"))}))},toggleAiTabClick=function(){const t=new bootstrap.Offcanvas("#aiChatSidebar");$(document).on("click","[data-toggle-ai-tab]",(function(e){e.preventDefault();const n=$(this).attr("data-toggle-ai-tab"),i=$(this).attr("data-toggle-ai-input");if("aiChatPrev"==n){const t=$(this).closest("div");$(t).toggleClass("bg-light"),$('[data-toggle-ai-tab="aiChatPrev"]').not(this).closest("div").removeClass("bg-light")}else $('[data-toggle-ai-tab="aiChatPrev"]').closest("div").removeClass("bg-light"),$("#aiChatNew .d-flex").remove();toggleAiTab(n,i),t&&t.hide()}))},aiInputButton=function(){document.getElementById("sendButton").addEventListener("click",(t=>{const e=document.getElementById("userInput");aiSendMessage(e.value),e.value=""})),document.getElementById("userInput").addEventListener("keypress",(t=>{const e=document.getElementById("userInput");"Enter"===t.key&&(aiSendMessage(e.value),e.value="")}))},aiSendMessage=function(t){const e=document.getElementById("aiChatNew");if(toggleAiTab("aiChatNew"),t){e.innerHTML+=`\n\t\t\t<div class="d-flex justify-content-end align-items-end mb-3">\n\t\t\t\t<div class="px-3 py-6px text-body bg-white bg-opacity-15 mw-75">\n\t\t\t\t\t${t}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div class="w-30px h-30px mx-2 rounded-circle text-white bg-white bg-opacity-15 fs-16px d-flex align-items-center justify-content-center">\n\t\t\t\t\t\tS\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`,document.querySelectorAll(".typing-dots-container").forEach((t=>t.remove()));const n=document.createElement("div");n.className="d-flex justify-content-start mb-3 ai-spinner",n.innerHTML='<div class="px-2"><div class="spinner-grow spinner-grow-sm"></div></div>',e.appendChild(n),e.scrollTop=e.scrollHeight,setTimeout((()=>{document.querySelector(".ai-spinner")?.remove();const t=["That's an interesting question! Let me think...","Good point! What else do you think about this?","That makes sense. Can you clarify a bit more?","Great perspective! Here’s my take on it...","Good question! I believe the answer is...","I appreciate your input! Let’s explore this further.","That's a unique thought! Here’s another angle to consider...","Nice one! Have you considered looking at it from this perspective?"],n=t[Math.floor(Math.random()*t.length)],i=document.createElement("div");i.className="mb-3",i.innerHTML=`\n\t\t\t\t<div class="d-flex justify-content-start align-items-end">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class="w-30px h-30px mx-2 fs-16px rounded-circle bg-theme bg-opacity-15 text-theme d-flex align-items-center justify-content-center">\n\t\t\t\t\t\t\t<i class="fa fa-shekel-sign"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="px-3 py-6px text-body bg-white bg-opacity-15 mw-75">\n\t\t\t\t\t\t<div class="typing-animation">${n}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,e.appendChild(i);const a=i.querySelector(".typing-animation");a.style.animation="typing .25s steps(20, end), blink-caret 0.75s step-end infinite",a.addEventListener("animationend",(()=>{a.style.animation="none"})),e.scrollTop=e.scrollHeight}),2e3)}};$(document).ready((function(){toggleAiTabClick(),aiInputButton()}));